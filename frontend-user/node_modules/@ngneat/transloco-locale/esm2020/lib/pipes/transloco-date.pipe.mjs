import { Pipe, ChangeDetectorRef, Inject, } from '@angular/core';
import { isNil } from '@ngneat/transloco';
import { getDefaultOptions } from '../shared';
import { LOCALE_CONFIG } from '../transloco-locale.config';
import { TranslocoLocaleService } from '../transloco-locale.service';
import { TranslocoLocalePipe } from './transloco-locale.pipe';
import * as i0 from "@angular/core";
import * as i1 from "../transloco-locale.service";
export class TranslocoDatePipe extends TranslocoLocalePipe {
    constructor(translocoLocaleService, cdr, localeConfig) {
        super(translocoLocaleService, cdr);
        this.translocoLocaleService = translocoLocaleService;
        this.cdr = cdr;
        this.localeConfig = localeConfig;
    }
    /**
     * Transform a date into the locale's date format.
     *
     * The date expression: a `Date` object,  a number
     * (milliseconds since UTC epoch), or an ISO string (https://www.w3.org/TR/NOTE-datetime).
     *
     * @example
     *
     * date | translocoDate: {} : en-US // 9/10/2019
     * date | translocoDate: { dateStyle: 'medium', timeStyle: 'medium' } : en-US // Sep 10, 2019, 10:46:12 PM
     * date | translocoDate: { timeZone: 'UTC', timeStyle: 'full' } : en-US // 7:40:32 PM Coordinated Universal Time
     * 1 | translocoDate: { dateStyle: 'medium' } // Jan 1, 1970
     * '2019-02-08' | translocoDate: { dateStyle: 'medium' } // Feb 8, 2019
     */
    transform(date, options = {}, locale) {
        if (isNil(date))
            return '';
        locale = this.getLocale(locale);
        return this.translocoLocaleService.localizeDate(date, locale, {
            ...getDefaultOptions(locale, 'date', this.localeConfig),
            ...options,
        });
    }
    ngOnDestroy() {
        super.onDestroy();
    }
}
TranslocoDatePipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoDatePipe, deps: [{ token: i1.TranslocoLocaleService }, { token: i0.ChangeDetectorRef }, { token: LOCALE_CONFIG }], target: i0.ɵɵFactoryTarget.Pipe });
TranslocoDatePipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoDatePipe, name: "translocoDate", pure: false });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoDatePipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'translocoDate',
                    pure: false,
                }]
        }], ctorParameters: function () { return [{ type: i1.TranslocoLocaleService }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [LOCALE_CONFIG]
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsb2NvLWRhdGUucGlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdHJhbnNsb2NvLWxvY2FsZS9zcmMvbGliL3BpcGVzL3RyYW5zbG9jby1kYXRlLnBpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLElBQUksRUFDSixpQkFBaUIsRUFFakIsTUFBTSxHQUVQLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUMxQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzNELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBT3JFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDOzs7QUFNOUQsTUFBTSxPQUFPLGlCQUNYLFNBQVEsbUJBQW1CO0lBRzNCLFlBQ1ksc0JBQThDLEVBQzlDLEdBQXNCLEVBQ0QsWUFBMEI7UUFFekQsS0FBSyxDQUFDLHNCQUFzQixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBSnpCLDJCQUFzQixHQUF0QixzQkFBc0IsQ0FBd0I7UUFDOUMsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUFDRCxpQkFBWSxHQUFaLFlBQVksQ0FBYztJQUczRCxDQUFDO0lBRUQ7Ozs7Ozs7Ozs7Ozs7T0FhRztJQUNILFNBQVMsQ0FBQyxJQUFlLEVBQUUsVUFBNkIsRUFBRSxFQUFFLE1BQWU7UUFDekUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDO1lBQUUsT0FBTyxFQUFFLENBQUM7UUFDM0IsTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFFaEMsT0FBTyxJQUFJLENBQUMsc0JBQXNCLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUU7WUFDNUQsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDdkQsR0FBRyxPQUFPO1NBQ1gsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFdBQVc7UUFDVCxLQUFLLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDcEIsQ0FBQzs7OEdBdENVLGlCQUFpQix5RkFPbEIsYUFBYTs0R0FQWixpQkFBaUI7MkZBQWpCLGlCQUFpQjtrQkFKN0IsSUFBSTttQkFBQztvQkFDSixJQUFJLEVBQUUsZUFBZTtvQkFDckIsSUFBSSxFQUFFLEtBQUs7aUJBQ1o7OzBCQVFJLE1BQU07MkJBQUMsYUFBYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIFBpcGUsXG4gIENoYW5nZURldGVjdG9yUmVmLFxuICBQaXBlVHJhbnNmb3JtLFxuICBJbmplY3QsXG4gIE9uRGVzdHJveSxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBpc05pbCB9IGZyb20gJ0BuZ25lYXQvdHJhbnNsb2NvJztcbmltcG9ydCB7IGdldERlZmF1bHRPcHRpb25zIH0gZnJvbSAnLi4vc2hhcmVkJztcbmltcG9ydCB7IExPQ0FMRV9DT05GSUcgfSBmcm9tICcuLi90cmFuc2xvY28tbG9jYWxlLmNvbmZpZyc7XG5pbXBvcnQgeyBUcmFuc2xvY29Mb2NhbGVTZXJ2aWNlIH0gZnJvbSAnLi4vdHJhbnNsb2NvLWxvY2FsZS5zZXJ2aWNlJztcbmltcG9ydCB7XG4gIERhdGVGb3JtYXRPcHRpb25zLFxuICBMb2NhbGUsXG4gIFZhbGlkRGF0ZSxcbiAgTG9jYWxlQ29uZmlnLFxufSBmcm9tICcuLi90cmFuc2xvY28tbG9jYWxlLnR5cGVzJztcbmltcG9ydCB7IFRyYW5zbG9jb0xvY2FsZVBpcGUgfSBmcm9tICcuL3RyYW5zbG9jby1sb2NhbGUucGlwZSc7XG5cbkBQaXBlKHtcbiAgbmFtZTogJ3RyYW5zbG9jb0RhdGUnLFxuICBwdXJlOiBmYWxzZSxcbn0pXG5leHBvcnQgY2xhc3MgVHJhbnNsb2NvRGF0ZVBpcGVcbiAgZXh0ZW5kcyBUcmFuc2xvY29Mb2NhbGVQaXBlXG4gIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSwgT25EZXN0cm95XG57XG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCB0cmFuc2xvY29Mb2NhbGVTZXJ2aWNlOiBUcmFuc2xvY29Mb2NhbGVTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBjZHI6IENoYW5nZURldGVjdG9yUmVmLFxuICAgIEBJbmplY3QoTE9DQUxFX0NPTkZJRykgcHJpdmF0ZSBsb2NhbGVDb25maWc6IExvY2FsZUNvbmZpZ1xuICApIHtcbiAgICBzdXBlcih0cmFuc2xvY29Mb2NhbGVTZXJ2aWNlLCBjZHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYW5zZm9ybSBhIGRhdGUgaW50byB0aGUgbG9jYWxlJ3MgZGF0ZSBmb3JtYXQuXG4gICAqXG4gICAqIFRoZSBkYXRlIGV4cHJlc3Npb246IGEgYERhdGVgIG9iamVjdCwgIGEgbnVtYmVyXG4gICAqIChtaWxsaXNlY29uZHMgc2luY2UgVVRDIGVwb2NoKSwgb3IgYW4gSVNPIHN0cmluZyAoaHR0cHM6Ly93d3cudzMub3JnL1RSL05PVEUtZGF0ZXRpbWUpLlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBkYXRlIHwgdHJhbnNsb2NvRGF0ZToge30gOiBlbi1VUyAvLyA5LzEwLzIwMTlcbiAgICogZGF0ZSB8IHRyYW5zbG9jb0RhdGU6IHsgZGF0ZVN0eWxlOiAnbWVkaXVtJywgdGltZVN0eWxlOiAnbWVkaXVtJyB9IDogZW4tVVMgLy8gU2VwIDEwLCAyMDE5LCAxMDo0NjoxMiBQTVxuICAgKiBkYXRlIHwgdHJhbnNsb2NvRGF0ZTogeyB0aW1lWm9uZTogJ1VUQycsIHRpbWVTdHlsZTogJ2Z1bGwnIH0gOiBlbi1VUyAvLyA3OjQwOjMyIFBNIENvb3JkaW5hdGVkIFVuaXZlcnNhbCBUaW1lXG4gICAqIDEgfCB0cmFuc2xvY29EYXRlOiB7IGRhdGVTdHlsZTogJ21lZGl1bScgfSAvLyBKYW4gMSwgMTk3MFxuICAgKiAnMjAxOS0wMi0wOCcgfCB0cmFuc2xvY29EYXRlOiB7IGRhdGVTdHlsZTogJ21lZGl1bScgfSAvLyBGZWIgOCwgMjAxOVxuICAgKi9cbiAgdHJhbnNmb3JtKGRhdGU6IFZhbGlkRGF0ZSwgb3B0aW9uczogRGF0ZUZvcm1hdE9wdGlvbnMgPSB7fSwgbG9jYWxlPzogTG9jYWxlKSB7XG4gICAgaWYgKGlzTmlsKGRhdGUpKSByZXR1cm4gJyc7XG4gICAgbG9jYWxlID0gdGhpcy5nZXRMb2NhbGUobG9jYWxlKTtcblxuICAgIHJldHVybiB0aGlzLnRyYW5zbG9jb0xvY2FsZVNlcnZpY2UubG9jYWxpemVEYXRlKGRhdGUsIGxvY2FsZSwge1xuICAgICAgLi4uZ2V0RGVmYXVsdE9wdGlvbnMobG9jYWxlLCAnZGF0ZScsIHRoaXMubG9jYWxlQ29uZmlnKSxcbiAgICAgIC4uLm9wdGlvbnMsXG4gICAgfSk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBzdXBlci5vbkRlc3Ryb3koKTtcbiAgfVxufVxuIl19