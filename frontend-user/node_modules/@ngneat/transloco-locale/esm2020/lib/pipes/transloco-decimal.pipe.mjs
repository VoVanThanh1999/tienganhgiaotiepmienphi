import { Pipe, ChangeDetectorRef, Inject, } from '@angular/core';
import { isNil } from '@ngneat/transloco';
import { getDefaultOptions } from '../shared';
import { LOCALE_CONFIG } from '../transloco-locale.config';
import { TranslocoLocaleService } from '../transloco-locale.service';
import { TranslocoLocalePipe } from './transloco-locale.pipe';
import * as i0 from "@angular/core";
import * as i1 from "../transloco-locale.service";
export class TranslocoDecimalPipe extends TranslocoLocalePipe {
    constructor(translocoLocaleService, cdr, localeConfig) {
        super(translocoLocaleService, cdr);
        this.translocoLocaleService = translocoLocaleService;
        this.cdr = cdr;
        this.localeConfig = localeConfig;
    }
    /**
     * Transform a given number into the locale's currency format.
     *
     * @example
     *
     * 1234567890 | translocoDecimal: {} : en-US // 1,234,567,890
     * 1234567890 | translocoDecimal: {useGrouping: false}: en-US // 1234567890
     *
     */
    transform(value, numberFormatOptions = {}, locale) {
        if (isNil(value))
            return '';
        locale = this.getLocale(locale);
        const options = {
            ...getDefaultOptions(locale, 'decimal', this.localeConfig),
            ...numberFormatOptions,
        };
        return this.translocoLocaleService.localizeNumber(value, 'decimal', locale, options);
    }
    ngOnDestroy() {
        super.onDestroy();
    }
}
TranslocoDecimalPipe.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoDecimalPipe, deps: [{ token: i1.TranslocoLocaleService }, { token: i0.ChangeDetectorRef }, { token: LOCALE_CONFIG }], target: i0.ɵɵFactoryTarget.Pipe });
TranslocoDecimalPipe.ɵpipe = i0.ɵɵngDeclarePipe({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoDecimalPipe, name: "translocoDecimal", pure: false });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoDecimalPipe, decorators: [{
            type: Pipe,
            args: [{
                    name: 'translocoDecimal',
                    pure: false,
                }]
        }], ctorParameters: function () { return [{ type: i1.TranslocoLocaleService }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Inject,
                    args: [LOCALE_CONFIG]
                }] }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsb2NvLWRlY2ltYWwucGlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2xpYnMvdHJhbnNsb2NvLWxvY2FsZS9zcmMvbGliL3BpcGVzL3RyYW5zbG9jby1kZWNpbWFsLnBpcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLElBQUksRUFFSixpQkFBaUIsRUFDakIsTUFBTSxHQUVQLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxtQkFBbUIsQ0FBQztBQUMxQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDOUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBQzNELE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLDZCQUE2QixDQUFDO0FBTXJFLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHlCQUF5QixDQUFDOzs7QUFNOUQsTUFBTSxPQUFPLG9CQUNYLFNBQVEsbUJBQW1CO0lBRzNCLFlBQ1ksc0JBQThDLEVBQzlDLEdBQXNCLEVBQ0QsWUFBMEI7UUFFekQsS0FBSyxDQUFDLHNCQUFzQixFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBSnpCLDJCQUFzQixHQUF0QixzQkFBc0IsQ0FBd0I7UUFDOUMsUUFBRyxHQUFILEdBQUcsQ0FBbUI7UUFDRCxpQkFBWSxHQUFaLFlBQVksQ0FBYztJQUczRCxDQUFDO0lBRUQ7Ozs7Ozs7O09BUUc7SUFDSCxTQUFTLENBQ1AsS0FBc0IsRUFDdEIsc0JBQTJDLEVBQUUsRUFDN0MsTUFBZTtRQUVmLElBQUksS0FBSyxDQUFDLEtBQUssQ0FBQztZQUFFLE9BQU8sRUFBRSxDQUFDO1FBQzVCLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBRWhDLE1BQU0sT0FBTyxHQUFHO1lBQ2QsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsU0FBUyxFQUFFLElBQUksQ0FBQyxZQUFZLENBQUM7WUFDMUQsR0FBRyxtQkFBbUI7U0FDdkIsQ0FBQztRQUNGLE9BQU8sSUFBSSxDQUFDLHNCQUFzQixDQUFDLGNBQWMsQ0FDL0MsS0FBSyxFQUNMLFNBQVMsRUFDVCxNQUFNLEVBQ04sT0FBTyxDQUNSLENBQUM7SUFDSixDQUFDO0lBRUQsV0FBVztRQUNULEtBQUssQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNwQixDQUFDOztpSEEzQ1Usb0JBQW9CLHlGQU9yQixhQUFhOytHQVBaLG9CQUFvQjsyRkFBcEIsb0JBQW9CO2tCQUpoQyxJQUFJO21CQUFDO29CQUNKLElBQUksRUFBRSxrQkFBa0I7b0JBQ3hCLElBQUksRUFBRSxLQUFLO2lCQUNaOzswQkFRSSxNQUFNOzJCQUFDLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBQaXBlLFxuICBQaXBlVHJhbnNmb3JtLFxuICBDaGFuZ2VEZXRlY3RvclJlZixcbiAgSW5qZWN0LFxuICBPbkRlc3Ryb3ksXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgaXNOaWwgfSBmcm9tICdAbmduZWF0L3RyYW5zbG9jbyc7XG5pbXBvcnQgeyBnZXREZWZhdWx0T3B0aW9ucyB9IGZyb20gJy4uL3NoYXJlZCc7XG5pbXBvcnQgeyBMT0NBTEVfQ09ORklHIH0gZnJvbSAnLi4vdHJhbnNsb2NvLWxvY2FsZS5jb25maWcnO1xuaW1wb3J0IHsgVHJhbnNsb2NvTG9jYWxlU2VydmljZSB9IGZyb20gJy4uL3RyYW5zbG9jby1sb2NhbGUuc2VydmljZSc7XG5pbXBvcnQge1xuICBOdW1iZXJGb3JtYXRPcHRpb25zLFxuICBMb2NhbGUsXG4gIExvY2FsZUNvbmZpZyxcbn0gZnJvbSAnLi4vdHJhbnNsb2NvLWxvY2FsZS50eXBlcyc7XG5pbXBvcnQgeyBUcmFuc2xvY29Mb2NhbGVQaXBlIH0gZnJvbSAnLi90cmFuc2xvY28tbG9jYWxlLnBpcGUnO1xuXG5AUGlwZSh7XG4gIG5hbWU6ICd0cmFuc2xvY29EZWNpbWFsJyxcbiAgcHVyZTogZmFsc2UsXG59KVxuZXhwb3J0IGNsYXNzIFRyYW5zbG9jb0RlY2ltYWxQaXBlXG4gIGV4dGVuZHMgVHJhbnNsb2NvTG9jYWxlUGlwZVxuICBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0sIE9uRGVzdHJveVxue1xuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgdHJhbnNsb2NvTG9jYWxlU2VydmljZTogVHJhbnNsb2NvTG9jYWxlU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgY2RyOiBDaGFuZ2VEZXRlY3RvclJlZixcbiAgICBASW5qZWN0KExPQ0FMRV9DT05GSUcpIHByaXZhdGUgbG9jYWxlQ29uZmlnOiBMb2NhbGVDb25maWdcbiAgKSB7XG4gICAgc3VwZXIodHJhbnNsb2NvTG9jYWxlU2VydmljZSwgY2RyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2Zvcm0gYSBnaXZlbiBudW1iZXIgaW50byB0aGUgbG9jYWxlJ3MgY3VycmVuY3kgZm9ybWF0LlxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiAxMjM0NTY3ODkwIHwgdHJhbnNsb2NvRGVjaW1hbDoge30gOiBlbi1VUyAvLyAxLDIzNCw1NjcsODkwXG4gICAqIDEyMzQ1Njc4OTAgfCB0cmFuc2xvY29EZWNpbWFsOiB7dXNlR3JvdXBpbmc6IGZhbHNlfTogZW4tVVMgLy8gMTIzNDU2Nzg5MFxuICAgKlxuICAgKi9cbiAgdHJhbnNmb3JtKFxuICAgIHZhbHVlOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgbnVtYmVyRm9ybWF0T3B0aW9uczogTnVtYmVyRm9ybWF0T3B0aW9ucyA9IHt9LFxuICAgIGxvY2FsZT86IExvY2FsZVxuICApOiBzdHJpbmcge1xuICAgIGlmIChpc05pbCh2YWx1ZSkpIHJldHVybiAnJztcbiAgICBsb2NhbGUgPSB0aGlzLmdldExvY2FsZShsb2NhbGUpO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIC4uLmdldERlZmF1bHRPcHRpb25zKGxvY2FsZSwgJ2RlY2ltYWwnLCB0aGlzLmxvY2FsZUNvbmZpZyksXG4gICAgICAuLi5udW1iZXJGb3JtYXRPcHRpb25zLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMudHJhbnNsb2NvTG9jYWxlU2VydmljZS5sb2NhbGl6ZU51bWJlcihcbiAgICAgIHZhbHVlLFxuICAgICAgJ2RlY2ltYWwnLFxuICAgICAgbG9jYWxlLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICBzdXBlci5vbkRlc3Ryb3koKTtcbiAgfVxufVxuIl19