export class TranslocoLocalePipe {
    constructor(translocoLocaleService, cdr) {
        this.translocoLocaleService = translocoLocaleService;
        this.cdr = cdr;
        this.subscription = this.translocoLocaleService.localeChanges$.subscribe({
            next: () => this.cdr.markForCheck(),
        });
    }
    getLocale(locale) {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        return locale || this.translocoLocaleService.getLocale();
    }
    onDestroy() {
        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
        this.subscription.unsubscribe();
        // Caretaker note: it's important to clean up references to subscriptions since they save the `next`
        // callback within its `destination` property, preventing classes from being GC'd.
        this.subscription = null;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNsb2NvLWxvY2FsZS5waXBlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbGlicy90cmFuc2xvY28tbG9jYWxlL3NyYy9saWIvcGlwZXMvdHJhbnNsb2NvLWxvY2FsZS5waXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE1BQU0sT0FBTyxtQkFBbUI7SUFNOUIsWUFDWSxzQkFBOEMsRUFDOUMsR0FBc0I7UUFEdEIsMkJBQXNCLEdBQXRCLHNCQUFzQixDQUF3QjtRQUM5QyxRQUFHLEdBQUgsR0FBRyxDQUFtQjtRQVAxQixpQkFBWSxHQUNsQixJQUFJLENBQUMsc0JBQXNCLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQztZQUNuRCxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUU7U0FDcEMsQ0FBQyxDQUFDO0lBS0YsQ0FBQztJQUVNLFNBQVMsQ0FBQyxNQUFlO1FBQ2pDLG9FQUFvRTtRQUNwRSxPQUFPLE1BQU0sSUFBSSxJQUFJLENBQUMsc0JBQXNCLENBQUMsU0FBUyxFQUFHLENBQUM7SUFDNUQsQ0FBQztJQUVELFNBQVM7UUFDUCxvRUFBb0U7UUFDcEUsSUFBSSxDQUFDLFlBQWEsQ0FBQyxXQUFXLEVBQUUsQ0FBQztRQUNqQyxvR0FBb0c7UUFDcEcsa0ZBQWtGO1FBQ2xGLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDO0lBQzNCLENBQUM7Q0FDRiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IExvY2FsZSB9IGZyb20gJy4uLy4uL2xpYi90cmFuc2xvY28tbG9jYWxlLnR5cGVzJztcbmltcG9ydCB7IFRyYW5zbG9jb0xvY2FsZVNlcnZpY2UgfSBmcm9tICcuLi90cmFuc2xvY28tbG9jYWxlLnNlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgVHJhbnNsb2NvTG9jYWxlUGlwZSB7XG4gIHByaXZhdGUgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb24gfCBudWxsID1cbiAgICB0aGlzLnRyYW5zbG9jb0xvY2FsZVNlcnZpY2UubG9jYWxlQ2hhbmdlcyQuc3Vic2NyaWJlKHtcbiAgICAgIG5leHQ6ICgpID0+IHRoaXMuY2RyLm1hcmtGb3JDaGVjaygpLFxuICAgIH0pO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCB0cmFuc2xvY29Mb2NhbGVTZXJ2aWNlOiBUcmFuc2xvY29Mb2NhbGVTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBjZHI6IENoYW5nZURldGVjdG9yUmVmXG4gICkge31cblxuICBwcm90ZWN0ZWQgZ2V0TG9jYWxlKGxvY2FsZT86IExvY2FsZSk6IExvY2FsZSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICByZXR1cm4gbG9jYWxlIHx8IHRoaXMudHJhbnNsb2NvTG9jYWxlU2VydmljZS5nZXRMb2NhbGUoKSE7XG4gIH1cblxuICBvbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICB0aGlzLnN1YnNjcmlwdGlvbiEudW5zdWJzY3JpYmUoKTtcbiAgICAvLyBDYXJldGFrZXIgbm90ZTogaXQncyBpbXBvcnRhbnQgdG8gY2xlYW4gdXAgcmVmZXJlbmNlcyB0byBzdWJzY3JpcHRpb25zIHNpbmNlIHRoZXkgc2F2ZSB0aGUgYG5leHRgXG4gICAgLy8gY2FsbGJhY2sgd2l0aGluIGl0cyBgZGVzdGluYXRpb25gIHByb3BlcnR5LCBwcmV2ZW50aW5nIGNsYXNzZXMgZnJvbSBiZWluZyBHQydkLlxuICAgIHRoaXMuc3Vic2NyaXB0aW9uID0gbnVsbDtcbiAgfVxufVxuIl19