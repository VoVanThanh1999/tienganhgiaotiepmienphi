import { APP_INITIALIZER, NgModule } from '@angular/core';
import { PRELOAD_LANGUAGES, TranslocoPreloadLangsService, } from './preload-langs.service';
import * as i0 from "@angular/core";
window.requestIdleCallback =
    window.requestIdleCallback ||
        function (cb) {
            const start = Date.now();
            return setTimeout(function () {
                cb({
                    didTimeout: false,
                    timeRemaining: function () {
                        return Math.max(0, 50 - (Date.now() - start));
                    },
                });
            }, 1);
        };
window.cancelIdleCallback =
    window.cancelIdleCallback ||
        function (id) {
            clearTimeout(id);
        };
// eslint-disable-next-line @typescript-eslint/no-empty-function
function noop() { }
export class TranslocoPreloadLangsModule {
    static forRoot(langs) {
        return {
            ngModule: TranslocoPreloadLangsModule,
            providers: [
                TranslocoPreloadLangsService,
                { provide: PRELOAD_LANGUAGES, useValue: langs },
                {
                    provide: APP_INITIALIZER,
                    useFactory: () => noop,
                    multi: true,
                    deps: [TranslocoPreloadLangsService]
                },
            ],
        };
    }
}
TranslocoPreloadLangsModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoPreloadLangsModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });
TranslocoPreloadLangsModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoPreloadLangsModule });
TranslocoPreloadLangsModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoPreloadLangsModule });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.0", ngImport: i0, type: TranslocoPreloadLangsModule, decorators: [{
            type: NgModule
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlbG9hZC1sYW5ncy5tb2R1bGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9saWJzL3RyYW5zbG9jby1wcmVsb2FkLWxhbmdzL3NyYy9saWIvcHJlbG9hZC1sYW5ncy5tb2R1bGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLGVBQWUsRUFBdUIsUUFBUSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQzdFLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIsNEJBQTRCLEdBQzdCLE1BQU0seUJBQXlCLENBQUM7O0FBT2hDLE1BQWMsQ0FBQyxtQkFBbUI7SUFDaEMsTUFBYyxDQUFDLG1CQUFtQjtRQUNuQyxVQUFVLEVBQW9DO1lBQzVDLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztZQUV6QixPQUFPLFVBQVUsQ0FBQztnQkFDaEIsRUFBRSxDQUFDO29CQUNELFVBQVUsRUFBRSxLQUFLO29CQUNqQixhQUFhLEVBQUU7d0JBQ2IsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztvQkFDaEQsQ0FBQztpQkFDRixDQUFDLENBQUM7WUFDTCxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDUixDQUFDLENBQUM7QUFFSCxNQUFjLENBQUMsa0JBQWtCO0lBQy9CLE1BQWMsQ0FBQyxrQkFBa0I7UUFDbEMsVUFBVSxFQUFVO1lBQ2xCLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuQixDQUFDLENBQUM7QUFFSixnRUFBZ0U7QUFDaEUsU0FBUyxJQUFJLEtBQUksQ0FBQztBQUdsQixNQUFNLE9BQU8sMkJBQTJCO0lBQ3RDLE1BQU0sQ0FBQyxPQUFPLENBQ1osS0FBZTtRQUVmLE9BQU87WUFDTCxRQUFRLEVBQUUsMkJBQTJCO1lBQ3JDLFNBQVMsRUFBRTtnQkFDVCw0QkFBNEI7Z0JBQzVCLEVBQUUsT0FBTyxFQUFFLGlCQUFpQixFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUU7Z0JBQy9DO29CQUNFLE9BQU8sRUFBRSxlQUFlO29CQUN4QixVQUFVLEVBQUUsR0FBRyxFQUFFLENBQUMsSUFBSTtvQkFDdEIsS0FBSyxFQUFFLElBQUk7b0JBQ1gsSUFBSSxFQUFFLENBQUMsNEJBQTRCLENBQUM7aUJBQ3JDO2FBQ0Y7U0FDRixDQUFDO0lBQ0osQ0FBQzs7d0hBakJVLDJCQUEyQjt5SEFBM0IsMkJBQTJCO3lIQUEzQiwyQkFBMkI7MkZBQTNCLDJCQUEyQjtrQkFEdkMsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QVBQX0lOSVRJQUxJWkVSLCBNb2R1bGVXaXRoUHJvdmlkZXJzLCBOZ01vZHVsZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICBQUkVMT0FEX0xBTkdVQUdFUyxcbiAgVHJhbnNsb2NvUHJlbG9hZExhbmdzU2VydmljZSxcbn0gZnJvbSAnLi9wcmVsb2FkLWxhbmdzLnNlcnZpY2UnO1xuXG5pbnRlcmZhY2UgSWRsZURlYWRsaW5lIHtcbiAgZGlkVGltZW91dDogZmFsc2U7XG4gIHRpbWVSZW1haW5pbmc6ICgpID0+IG51bWJlcjtcbn1cblxuKHdpbmRvdyBhcyBhbnkpLnJlcXVlc3RJZGxlQ2FsbGJhY2sgPVxuICAod2luZG93IGFzIGFueSkucmVxdWVzdElkbGVDYWxsYmFjayB8fFxuICBmdW5jdGlvbiAoY2I6IChkZWFkTGluZTogSWRsZURlYWRsaW5lKSA9PiB2b2lkKSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY2Ioe1xuICAgICAgICBkaWRUaW1lb3V0OiBmYWxzZSxcbiAgICAgICAgdGltZVJlbWFpbmluZzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCA1MCAtIChEYXRlLm5vdygpIC0gc3RhcnQpKTtcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0sIDEpO1xuICB9O1xuXG4od2luZG93IGFzIGFueSkuY2FuY2VsSWRsZUNhbGxiYWNrID1cbiAgKHdpbmRvdyBhcyBhbnkpLmNhbmNlbElkbGVDYWxsYmFjayB8fFxuICBmdW5jdGlvbiAoaWQ6IG51bWJlcikge1xuICAgIGNsZWFyVGltZW91dChpZCk7XG4gIH07XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5ATmdNb2R1bGUoKVxuZXhwb3J0IGNsYXNzIFRyYW5zbG9jb1ByZWxvYWRMYW5nc01vZHVsZSB7XG4gIHN0YXRpYyBmb3JSb290KFxuICAgIGxhbmdzOiBzdHJpbmdbXVxuICApOiBNb2R1bGVXaXRoUHJvdmlkZXJzPFRyYW5zbG9jb1ByZWxvYWRMYW5nc01vZHVsZT4ge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogVHJhbnNsb2NvUHJlbG9hZExhbmdzTW9kdWxlLFxuICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIFRyYW5zbG9jb1ByZWxvYWRMYW5nc1NlcnZpY2UsXG4gICAgICAgIHsgcHJvdmlkZTogUFJFTE9BRF9MQU5HVUFHRVMsIHVzZVZhbHVlOiBsYW5ncyB9LFxuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogQVBQX0lOSVRJQUxJWkVSLFxuICAgICAgICAgIHVzZUZhY3Rvcnk6ICgpID0+IG5vb3AsXG4gICAgICAgICAgbXVsdGk6IHRydWUsXG4gICAgICAgICAgZGVwczogW1RyYW5zbG9jb1ByZWxvYWRMYW5nc1NlcnZpY2VdXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgIH07XG4gIH1cbn1cbiJdfQ==